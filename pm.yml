#include <zephyr/autoconf.h>

mcuboot:
  size: CONFIG_PM_PARTITION_SIZE_MCUBOOT
  placement:
    before: [mcuboot_primary]
    align: {end: 0x1000}

mcuboot_primary_app:
  span: [app]

mcuboot_primary:
  span: [mcuboot_pad, mcuboot_primary_app]

mcuboot_secondary:
  share_size: [mcuboot_primary]
  placement:
    align: {start: CONFIG_FPROTECT_BLOCK_SIZE}
    after: mcuboot_primary

mcuboot_pad:
  size: CONFIG_PM_PARTITION_SIZE_MCUBOOT_PAD
  placement:
    before: [mcuboot_primary_app]
#ifdef CONFIG_FPROTECT
    align: {start: CONFIG_FPROTECT_BLOCK_SIZE}
#endif

app:
  size: 0x100000
  placement:
    after:
      - mcuboot

nvs_storage:
  size: 8K
  placement:
    after:
      - mcuboot_secondary
    align: {start: 0x1000}

sensor_storage:
  size: 0x1A000
  placement:
    after:
      - nvs_storage
    align: {start: 0x1000}
